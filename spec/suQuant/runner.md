# 回測系統 runner 規格設計

| 作者         | 諮詢小組 | 狀態   | 　上次更新 | 規格版本 |
| ------       | ------   | ------ | ------     | ----     |
| fatfingererr | None     | 待審   | 2018.2.6   | 0.1      |

## 摘要

在本專案中建立一個 runner 物件，透過 runner 來進行回測的相關操作

## 問題描述

無

### 使用情況

無

## 解決方案

Python 中的 OOP 來實現

### 其他做法

無

### 資料庫

有相關的設置，可能也是先寫死在物件初始化的過程中

### API 變更

無

### 安全性

無

### 使用者

無

### 效能

無

### 佈署與測試

無

### 開發人員

無

## 實作細節

- [ ] =__init__= 初始化函數
    - [ ] 設定基礎屬性，例如回測開始、結束時間

- [ ] =run_backward= 回測函數
    - [ ] 準備回測資料
    - [ ] 回測初始化
    - [ ] 對每個 TICK 進行回測
        - [ ] 準備該 TICK 資料
        - [ ] 執行回測中該 TICK 要做的事情
   - [ ] 回測反初始化

- [ ] =run_forward= 前測函數
    - [ ] 準備前測資料
    - [ ] 前測初始化
    - [ ] 對每個 TICK 進行前測
        - [ ] 準備該 TICK 資料
        - [ ] 執行前測中該 TICK 要做的事情
    - [ ] 前測反初始化

- [ ] =prepare= 準備資料函數
   - [ ] 讀取市場資料

- [ ] =price_move= 價格移動函數
   - [ ] 取得目前 TICK 價格
   - [ ] 把價格 pass 到其他物件中(預計為本物件has-a的物件)

- [ ] =backward_init= 回測初始化
   - [ ] 讀取回測相關的設置

- [ ] =forward_init= 前測初始化
   - [ ] 讀取前測相關的設置

- [ ] =backward_on_tick= 回測中每個 TICK 要做的事情

- [ ] =forward_on_tick= 前測中每個 TICK 要做的事情

- [ ] =backward_on_bar= 回測中每個 Bar 要做的事情

- [ ] =forward_on_bar= 前測中每個 Bar 要做的事情


## 依賴

- 暫定應該是 =numpy= 的依賴，版本還沒確定

## 測試

無（還沒想好怎麼測試，會用 TDD 摸索一下）

### 單元測試

無

### 整合測試

無

## 文件

無（再補上寫文件的規劃）

### 參考資料

無

## 修訂紀錄

|     日期 | 修訂簡要描述       |
|----------|--------------------|
| 2017.2.6 | 初稿，自己審先開發 |
